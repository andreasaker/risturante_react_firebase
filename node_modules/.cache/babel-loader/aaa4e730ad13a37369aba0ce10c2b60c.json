{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Andreas\\\\Documents\\\\sites\\\\risturante_react_firebase\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\Andreas\\\\Documents\\\\sites\\\\risturante_react_firebase\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Andreas\\\\Documents\\\\sites\\\\risturante_react_firebase\\\\src\\\\components\\\\EditCourseForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { editCourse as _editCourse, setEditCourse } from \"../redux/actions\";\n\nconst EditCourseForm = ({\n  categories,\n  editCourse,\n  currentCourse,\n  setEdit\n}) => {\n  const initCourse = {\n    title: \"\",\n    content: \"\",\n    price: \"\",\n    category_id: \"\"\n  };\n\n  const _useState = useState(...currentCourse),\n        _useState2 = _slicedToArray(_useState, 2),\n        course = _useState2[0],\n        setCourse = _useState2[1];\n\n  const handleChange = e => {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    setCourse(_objectSpread({}, course, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    editCourse(course);\n    setEdit(false);\n    setCourse(initCourse);\n  };\n\n  const handleQuitEdit = e => {\n    e.preventDefault();\n    setCourse(initCourse);\n    setEdit(false);\n  };\n\n  useEffect(() => {\n    setCourse(...currentCourse);\n  }, [currentCourse]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Edit Course\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    placeholder: \"Title\",\n    onChange: e => handleChange(e),\n    value: course.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"content\",\n    placeholder: \"Content\",\n    onChange: e => handleChange(e),\n    value: course.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"price\",\n    placeholder: \"Price\",\n    onChange: e => handleChange(e),\n    value: course.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category_id\",\n    onChange: e => handleChange(e),\n    value: course.category_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"-- Choose category --\"), categories.map(c => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: c.id,\n      value: c.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, c.name);\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"ok-btn\",\n    name: \"edittodo\",\n    onClick: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"second-btn\",\n    onClick: e => handleQuitEdit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Close edit\"));\n};\n\nconst mapStateToProps = state => ({\n  categories: state.firestore.ordered.categories,\n  currentCourse: state.firestore.ordered.courses.filter(c => c.id === state.setEditCourse.id)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  editCourse: course => dispatch(_editCourse(course)),\n  setEdit: status => dispatch(setEditCourse(status))\n});\n\nexport default compose(firestoreConnect(() => [\"categories\"]), connect(mapStateToProps, mapDispatchToProps))(EditCourseForm);","map":{"version":3,"sources":["C:/Users/Andreas/Documents/sites/risturante_react_firebase/src/components/EditCourseForm.js"],"names":["React","useState","useEffect","connect","compose","firestoreConnect","editCourse","setEditCourse","EditCourseForm","categories","currentCourse","setEdit","initCourse","title","content","price","category_id","course","setCourse","handleChange","e","target","name","value","handleSubmit","preventDefault","handleQuitEdit","map","c","id","mapStateToProps","state","firestore","ordered","courses","filter","mapDispatchToProps","dispatch","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { editCourse, setEditCourse } from \"../redux/actions\";\r\n\r\nconst EditCourseForm = ({ categories, editCourse, currentCourse, setEdit }) => {\r\n  const initCourse = {\r\n    title: \"\",\r\n    content: \"\",\r\n    price: \"\",\r\n    category_id: \"\",\r\n  };\r\n\r\n  const [course, setCourse] = useState(...currentCourse);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCourse({ ...course, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    editCourse(course);\r\n    setEdit(false);\r\n    setCourse(initCourse);\r\n  };\r\n\r\n  const handleQuitEdit = (e) => {\r\n    e.preventDefault();\r\n    setCourse(initCourse);\r\n    setEdit(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCourse(...currentCourse);\r\n  }, [currentCourse]);\r\n\r\n  return (\r\n    <form>\r\n      <p>Edit Course</p>\r\n      <input\r\n        type=\"text\"\r\n        name=\"title\"\r\n        placeholder=\"Title\"\r\n        onChange={(e) => handleChange(e)}\r\n        value={course.title}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"content\"\r\n        placeholder=\"Content\"\r\n        onChange={(e) => handleChange(e)}\r\n        value={course.content}\r\n      />\r\n      <input\r\n        type=\"number\"\r\n        name=\"price\"\r\n        placeholder=\"Price\"\r\n        onChange={(e) => handleChange(e)}\r\n        value={course.price}\r\n      />\r\n      <select\r\n        name=\"category_id\"\r\n        onChange={(e) => handleChange(e)}\r\n        value={course.category_id}\r\n      >\r\n        <option>-- Choose category --</option>\r\n        {categories.map((c) => {\r\n          return (\r\n            <option key={c.id} value={c.id}>\r\n              {c.name}\r\n            </option>\r\n          );\r\n        })}\r\n      </select>\r\n      <button\r\n        className=\"ok-btn\"\r\n        name=\"edittodo\"\r\n        onClick={(e) => handleSubmit(e)}\r\n      >\r\n        Edit\r\n      </button>\r\n      <button className=\"second-btn\" onClick={(e) => handleQuitEdit(e)}>\r\n        Close edit\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  categories: state.firestore.ordered.categories,\r\n  currentCourse: state.firestore.ordered.courses.filter(\r\n    (c) => c.id === state.setEditCourse.id\r\n  ),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  editCourse: (course) => dispatch(editCourse(course)),\r\n  setEdit: (status) => dispatch(setEditCourse(status)),\r\n});\r\n\r\nexport default compose(\r\n  firestoreConnect(() => [\"categories\"]),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(EditCourseForm);\r\n"]},"metadata":{},"sourceType":"module"}