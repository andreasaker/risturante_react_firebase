{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Andreas\\\\Documents\\\\sites\\\\risturante_react_firebase\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nlet courseId = -1;\nexport const addCourse = course => ({\n  type: \"ADD_COURSE\",\n  payload: {\n    id: ++courseId,\n    course\n  }\n});\nexport const editCourse = course => {\n  //wrong\n  return (dispatch, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('categories').doc(course.id).update(_objectSpread({}, course, {\n      updatedAt: new Date()\n    })).then(() => {\n      dispatch({\n        type: \"EDIT_COURSE\",\n        course\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const setEditCourse = (id, status) => ({\n  type: \"SET_EDIT_COURSE\",\n  payload: {\n    id: id,\n    status: status\n  }\n});\nlet catId = -1;\nexport const addCategory = name => ({\n  type: \"ADD_CATEGORY\",\n  payload: {\n    id: ++catId,\n    name\n  }\n});\nexport const editCategory = (id, name) => {\n  return (dispatch, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('categories').doc(id).update({\n      name: name,\n      updatedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: \"EDIT_CATEGORY\",\n        course\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const setEditCategory = (id, status) => ({\n  type: \"SET_EDIT_CATEGORY\",\n  payload: {\n    id: id,\n    status: status\n  }\n});\nexport const loggedIn = status => ({\n  type: \"LOGGED_IN\",\n  payload: status\n});","map":{"version":3,"sources":["C:/Users/Andreas/Documents/sites/risturante_react_firebase/src/redux/actions.js"],"names":["courseId","addCourse","course","type","payload","id","editCourse","dispatch","getFirestore","firestore","collection","doc","update","updatedAt","Date","then","catch","err","console","log","setEditCourse","status","catId","addCategory","name","editCategory","setEditCategory","loggedIn"],"mappings":";AAAA,IAAIA,QAAQ,GAAG,CAAC,CAAhB;AACA,OAAO,MAAMC,SAAS,GAAGC,MAAM,KAAK;AAClCC,EAAAA,IAAI,EAAE,YAD4B;AAElCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,EAAE,EAAE,EAAEL,QADC;AAEPE,IAAAA;AAFO;AAFyB,CAAL,CAAxB;AAQP,OAAO,MAAMI,UAAU,GAAIJ,MAAD,IAAY;AAAE;AACtC,SAAM,CAACK,QAAD,EAAW;AAACC,IAAAA;AAAD,GAAX,KAA8B;AAClC,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACAC,IAAAA,SAAS,CAACC,UAAV,CAAqB,YAArB,EAAmCC,GAAnC,CAAuCT,MAAM,CAACG,EAA9C,EAAkDO,MAAlD,mBACKV,MADL;AAEEW,MAAAA,SAAS,EAAE,IAAIC,IAAJ;AAFb,QAGGC,IAHH,CAGQ,MAAI;AACVR,MAAAA,QAAQ,CAAC;AAACJ,QAAAA,IAAI,EAAE,aAAP;AAAsBD,QAAAA;AAAtB,OAAD,CAAR;AACD,KALD,EAKGc,KALH,CAKUC,GAAD,IAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAPD;AASD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMG,aAAa,GAAG,CAACf,EAAD,EAAKgB,MAAL,MAAiB;AAC5ClB,EAAAA,IAAI,EAAE,iBADsC;AAE5CC,EAAAA,OAAO,EAAE;AACPC,IAAAA,EAAE,EAAEA,EADG;AAEPgB,IAAAA,MAAM,EAAEA;AAFD;AAFmC,CAAjB,CAAtB;AAQP,IAAIC,KAAK,GAAG,CAAC,CAAb;AACA,OAAO,MAAMC,WAAW,GAAGC,IAAI,KAAK;AAClCrB,EAAAA,IAAI,EAAE,cAD4B;AAElCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,EAAE,EAAE,EAAEiB,KADC;AAEPE,IAAAA;AAFO;AAFyB,CAAL,CAAxB;AASP,OAAO,MAAMC,YAAY,GAAG,CAACpB,EAAD,EAAKmB,IAAL,KAAc;AACxC,SAAM,CAACjB,QAAD,EAAW;AAACC,IAAAA;AAAD,GAAX,KAA8B;AAClC,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACAC,IAAAA,SAAS,CAACC,UAAV,CAAqB,YAArB,EAAmCC,GAAnC,CAAuCN,EAAvC,EAA2CO,MAA3C,CAAkD;AAChDY,MAAAA,IAAI,EAAEA,IAD0C;AAEhDX,MAAAA,SAAS,EAAE,IAAIC,IAAJ;AAFqC,KAAlD,EAGGC,IAHH,CAGQ,MAAI;AACVR,MAAAA,QAAQ,CAAC;AAACJ,QAAAA,IAAI,EAAE,eAAP;AAAwBD,QAAAA;AAAxB,OAAD,CAAR;AACD,KALD,EAKGc,KALH,CAKUC,GAAD,IAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAPD;AASD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMS,eAAe,GAAG,CAACrB,EAAD,EAAKgB,MAAL,MAAiB;AAC9ClB,EAAAA,IAAI,EAAE,mBADwC;AAE9CC,EAAAA,OAAO,EAAE;AACPC,IAAAA,EAAE,EAAEA,EADG;AAEPgB,IAAAA,MAAM,EAAEA;AAFD;AAFqC,CAAjB,CAAxB;AAQP,OAAO,MAAMM,QAAQ,GAAGN,MAAM,KAAK;AACjClB,EAAAA,IAAI,EAAE,WAD2B;AAEjCC,EAAAA,OAAO,EAAEiB;AAFwB,CAAL,CAAvB","sourcesContent":["let courseId = -1;\r\nexport const addCourse = course => ({\r\n  type: \"ADD_COURSE\",\r\n  payload: {\r\n    id: ++courseId,\r\n    course\r\n  }\r\n});\r\n\r\nexport const editCourse = (course) => { //wrong\r\n  return(dispatch, {getFirestore}) => {\r\n    const firestore = getFirestore();\r\n    firestore.collection('categories').doc(course.id).update({\r\n      ...course,\r\n      updatedAt: new Date()\r\n    }).then(()=>{\r\n      dispatch({type: \"EDIT_COURSE\", course});\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n\r\n  }\r\n}\r\n \r\nexport const setEditCourse = (id, status) => ({\r\n  type: \"SET_EDIT_COURSE\",\r\n  payload: {\r\n    id: id,\r\n    status: status\r\n  }\r\n});\r\n\r\nlet catId = -1;\r\nexport const addCategory = name => ({\r\n  type: \"ADD_CATEGORY\",\r\n  payload: {\r\n    id: ++catId,\r\n    name\r\n  }\r\n});\r\n\r\n\r\nexport const editCategory = (id, name) => {\r\n  return(dispatch, {getFirestore}) => {\r\n    const firestore = getFirestore();\r\n    firestore.collection('categories').doc(id).update({\r\n      name: name,\r\n      updatedAt: new Date()\r\n    }).then(()=>{\r\n      dispatch({type: \"EDIT_CATEGORY\", course});\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const setEditCategory = (id, status) => ({\r\n  type: \"SET_EDIT_CATEGORY\",\r\n  payload: {\r\n    id: id,\r\n    status: status\r\n  }\r\n});\r\n\r\nexport const loggedIn = status => ({\r\n  type: \"LOGGED_IN\",\r\n  payload: status\r\n});\r\n"]},"metadata":{},"sourceType":"module"}