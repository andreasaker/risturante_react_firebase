{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Andreas\\\\Documents\\\\sites\\\\risturante_react_firebase\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nexport const addCourse = course => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    console.log(course);\n    firestore.collection(\"courses\").add(_objectSpread({}, course)).then(() => dispatch({\n      type: \"ADD_COURSE\",\n      course\n    })).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const editCourse = course => {\n  //wrong\n  return (dispatch, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection(\"categories\").doc(course.id).update(_objectSpread({}, course, {\n      updatedAt: new Date()\n    })).then(() => {\n      dispatch({\n        type: \"EDIT_COURSE\",\n        course\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const setEditCourse = (id, status) => ({\n  type: \"SET_EDIT_COURSE\",\n  payload: {\n    id: id,\n    status: status\n  }\n});\nexport const addCategory = name => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection(\"categories\").add({\n      name: name\n    }).then(() => dispatch({\n      type: \"ADD_CATEGORY\",\n      name\n    })).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const editCategory = (id, name) => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection(\"categories\").doc(id).update({\n      name: name,\n      updatedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: \"EDIT_CATEGORY\",\n        id,\n        name\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const removeCategory = id => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection(\"categories\").doc(id).delete().then(() => dispatch({\n      type: \"REMOVE_CATEGORY\",\n      id\n    })).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const setEditCategory = (id, status) => ({\n  type: \"SET_EDIT_CATEGORY\",\n  payload: {\n    id: id,\n    status: status\n  }\n});\nexport const loggedIn = status => ({\n  type: \"LOGGED_IN\",\n  payload: status\n});","map":{"version":3,"sources":["C:/Users/Andreas/Documents/sites/risturante_react_firebase/src/redux/actions.js"],"names":["addCourse","course","dispatch","getState","getFirebase","getFirestore","firestore","console","log","collection","add","then","type","catch","err","editCourse","doc","id","update","updatedAt","Date","setEditCourse","status","payload","addCategory","name","editCategory","removeCategory","delete","setEditCategory","loggedIn"],"mappings":"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","sourcesContent":["export const addCourse = course => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    console.log(course);\r\n    firestore\r\n      .collection(\"courses\")\r\n      .add({\r\n        ...course\r\n      })\r\n      .then(() => dispatch({ type: \"ADD_COURSE\", course }))\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const editCourse = course => {\r\n  //wrong\r\n  return (dispatch, { getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    firestore\r\n      .collection(\"categories\")\r\n      .doc(course.id)\r\n      .update({\r\n        ...course,\r\n        updatedAt: new Date()\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: \"EDIT_COURSE\", course });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const setEditCourse = (id, status) => ({\r\n  type: \"SET_EDIT_COURSE\",\r\n  payload: {\r\n    id: id,\r\n    status: status\r\n  }\r\n});\r\n\r\nexport const addCategory = name => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    firestore\r\n      .collection(\"categories\")\r\n      .add({\r\n        name: name\r\n      })\r\n      .then(() => dispatch({ type: \"ADD_CATEGORY\", name }))\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const editCategory = (id, name) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    firestore\r\n      .collection(\"categories\")\r\n      .doc(id)\r\n      .update({\r\n        name: name,\r\n        updatedAt: new Date()\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: \"EDIT_CATEGORY\", id, name });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const removeCategory = id => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    firestore\r\n      .collection(\"categories\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(() => dispatch({ type: \"REMOVE_CATEGORY\", id }))\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const setEditCategory = (id, status) => ({\r\n  type: \"SET_EDIT_CATEGORY\",\r\n  payload: {\r\n    id: id,\r\n    status: status\r\n  }\r\n});\r\n\r\nexport const loggedIn = status => ({\r\n  type: \"LOGGED_IN\",\r\n  payload: status\r\n});\r\n"]},"metadata":{},"sourceType":"module"}